AmCharts.addInitHandler(function(a){function f(b,d,h,i){void 0===i&&(i="dataProvider"),h.showCurtain&&n(void 0,h.noStyles),c.remaining++,AmCharts.loadFile(b,h,function(j){if(!1===j)m(AmCharts.__("Error loading the file",a.language)+": "+b,!1,h);else{switch(void 0===h.format&&(h.format="json"),h.format=h.format.toLowerCase(),h.format){case"json":d[i]=AmCharts.parseJSON(j,h),!1===d[i]?(m(AmCharts.__("Error parsing JSON file",a.language)+": "+c.url,e,h),d[i]=[]):d[i]=g(d[i],h);break;case"csv":d[i]=AmCharts.parseCSV(j,h),!1===d[i]?(m(AmCharts.__("Error parsing CSV file",a.language)+": "+c.url,e,h),d[i]=[]):d[i]=g(d[i],h);break;default:m(AmCharts.__("Unsupported data format",a.language)+": "+h.format,e,h.noStyles)}if(c.remaining--,0===c.remaining){if(h.async)if("map"===a.type)a.validateNow(!0);else if(a.validateData(),c.startDuration)if("stock"===a.type){a.panelsSettings.startDuration=c.startDuration;for(var k in a.panels)a.panels[k].startDuration=c.startDuration,a.panels[k].animateAgain()}else a.startDuration=c.startDuration,a.animateAgain();"stock"!==a.type||h.reloading||a.periodSelector.setDefaultPeriod(),o()}h.reload&&(h.timeout&&clearTimeout(h.timeout),h.timeout=setTimeout(f,1e3*h.reload,b,d,h),h.reloading=!0)}})}function g(b,c){if(void 0===c.postProcess||!j(c.postProcess))return b;try{return c.postProcess.call(this,b,c)}catch(d){return m(AmCharts.__("Error loading file",a.language)+": "+c.url,!1,c),b}}function i(a){return"object"==typeof a}function j(a){return"function"==typeof a}function k(a){for(var b in d)l(a,b,d[b])}function l(a,b,c){void 0===a[b]&&(a[b]=c)}function m(a,b,c){c.showErrors?n(a,c.noStyles):(o(),console.log(a))}function n(b,d){o(),void 0===b&&(b=AmCharts.__("Loading data...",a.language));var e=document.createElement("div");e.setAttribute("id",a.div.id+"-curtain"),e.className="amcharts-dataloader-curtain",!0!==d?(e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width=(void 0!==a.realWidth?a.realWidth:a.divRealWidth)+"px",e.style.height=(void 0!==a.realHeight?a.realHeight:a.divRealHeight)+"px",e.style.textAlign="center",e.style.display="table",e.style.fontSize="20px",e.style.background="rgba(255, 255, 255, 0.3)",e.innerHTML='<div style="display: table-cell; vertical-align: middle;">'+b+"</div>"):e.innerHTML=b,a.containerDiv.appendChild(e),c.curtain=e}function o(){try{void 0!==c.curtain&&a.containerDiv.removeChild(c.curtain)}catch(b){}c.curtain=void 0}void 0!==a.dataLoader&&i(a.dataLoader)||(a.dataLoader={});var b=a.version.split(".");if(!(Number(b[0])<3||3==Number(b[0])&&Number(b[1])<13)){var c=a.dataLoader;c.remaining=0;var d={async:!0,format:"json",showErrors:!0,showCurtain:!0,noStyles:!1,reload:0,timestamp:!1,delimiter:",",skip:0,useColumnNames:!1,reverse:!1,reloading:!1};if("stock"===a.type)setTimeout(function(){0>a.panelsSettings.startDuration&&(c.startDuration=a.panelsSettings.startDuration,a.panelsSettings.startDuration=0);for(var b in a.dataSets){var d=a.dataSets[b];void 0!==d.dataLoader&&void 0!==d.dataLoader.url&&(d.dataProvider=[],k(d.dataLoader),f(d.dataLoader.url,d,d.dataLoader,"dataProvider")),void 0!==d.eventDataLoader&&void 0!==d.eventDataLoader.url&&(d.events=[],k(d.eventDataLoader),f(d.eventDataLoader.url,d,d.eventDataLoader,"stockEvents"))}},100);else{if(k(c),void 0===c.url)return;void 0!==a.startDuration&&0<a.startDuration&&(c.startDuration=a.startDuration,a.startDuration=0),a.dataProvider=[],f(c.url,a,c,"dataProvider")}}},["pie","serial","xy","funnel","radar","gauge","stock","map"]),void 0===AmCharts.__&&(AmCharts.__=function(a,b){return void 0!==b&&void 0!==AmCharts.translations.dataLoader[chart.language]&&void 0!==AmCharts.translations.dataLoader[chart.language][a]?AmCharts.translations.dataLoader[chart.language][a]:a}),AmCharts.loadFile=function(a,b,c){if(window.XMLHttpRequest)var d=new XMLHttpRequest;else var d=new ActiveXObject("Microsoft.XMLHTTP");d.onreadystatechange=function(){4==d.readyState&&404==d.status?c.call(this,!1):4==d.readyState&&200==d.status&&c.call(this,d.responseText)};try{d.open("GET",b.timestamp?AmCharts.timestampUrl(a):a,b.async),d.send()}catch(e){c.call(this,!1)}},AmCharts.parseJSON=function(response,options){try{return void 0!==JSON?JSON.parse(response):eval(response)}catch(e){return!1}},AmCharts.parseCSV=function(a,b){var c=AmCharts.CSVToArray(a,b.delimiter),d=[],e=[];b.useColumnNames&&(e=c.shift(),0<b.skip&&b.skip--);for(var f=0;f<b.skip;f++)c.shift();for(var g;g=b.reverse?c.pop():c.shift();){for(var h={},f=0;f<g.length;f++){var i=void 0===e[f]?"col"+f:e[f];h[i]=g[f]}d.push(h)}return d},AmCharts.CSVToArray=function(a,b){b=b||",";for(var c=new RegExp("(\\"+b+"|\\r?\\n|\\r|^)"+'(?:"([^"]*(?:""[^"]*)*)"|'+'([^"\\'+b+"\\r\\n]*))","gi"),d=[[]],e=null;e=c.exec(a);){var f=e[1];if(f.length&&f!=b&&d.push([]),e[2])var g=e[2].replace(new RegExp('""',"g"),'"');else var g=e[3];d[d.length-1].push(g)}return d},AmCharts.timestampUrl=function(a){var b=a.split("?");return 1===b.length?b[1]=(new Date).getTime():b[1]+="&"+(new Date).getTime(),b.join("?")};